# Серверная часть рекомендательной системы для предсказания диагноза по протоколу осмотра

## Архитектура приложения
![Диаграмма компонентов](./components.png)

### Диаграмма компонентов
**FastAPI сервер** - Серверное приложение

**LLM Module** - Языковая модель

**Vector Database** - Векторная база данных, хранит эмбеддинги для соответствующих документов.
Используется для векторного поиска по документам.

**Embedding Function** - Модель для создания эмбеддингов. Модель которая используется в Vector Database для создания эмеддингов из текстовых данных

**Text Preproseccing** - Предобработка текста. Функция для предобработки текста.

**Data Folder** - Директория со всеми докемнтами, используемыми в системе, различные форматы текстовых данных, которые будут переведены в векторное и помещены в векторную базу данных.

**AdaptersData** - Директория с адаптерами для разных форматов данных, хранимых в Data Folder. Получение текстовых данных из различных форматов данные, для представления в удобной форме, для передачи в векторную базу данных.

## Требования для запуска
Перед запуском необходимо установить cuda для PyTorch, необходимо перейти по ссылке, выбрать соответствующую конфигурацию и установить
https://pytorch.org/get-started/locally/

Далее склонировать репозиторий
```
git clone https://github.com/nik9ta5/appserverRecSys.git
```

Перейти в папку с проектом

Установить необходимые зависимости
```
pip install -r requirements.txt
```

## Запуск
Точка входа в приложение - app/main.py 

Параметры, принимаемые:
--fullVDB - заполнение векторной базы данных
--delVDB - удаление всего содержимого в векторной базе данных

```
python main.py --fullVDB
```

(--fullVDB указывать при первом запуске)
